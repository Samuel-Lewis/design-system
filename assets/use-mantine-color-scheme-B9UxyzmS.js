import{r as c}from"./index-CTjT7uj6.js";import{M as h}from"./MantineThemeProvider-JCYNcDHZ.js";import{u as f}from"./use-isomorphic-effect-DbnTQc-6.js";function w(t,e){return f("(prefers-color-scheme: dark)",t==="dark",e)?"dark":"light"}function m(){const t=document.createElement("style");return t.innerHTML="*, *::before, *::after {transition: none !important;}",t.setAttribute("data-mantine-disable-transition","true"),document.head.appendChild(t),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(o=>o.remove())}function g({keepTransitions:t}={}){const e=c.useRef(),o=c.useRef(),n=c.useContext(h);if(!n)throw new Error("[@mantine/core] MantineProvider was not found in tree");const i=r=>{n.setColorScheme(r),e.current=t?()=>{}:m(),window.clearTimeout(o.current),o.current=window.setTimeout(()=>{var u;(u=e.current)==null||u.call(e)},10)},s=()=>{n.clearColorScheme(),e.current=t?()=>{}:m(),window.clearTimeout(o.current),o.current=window.setTimeout(()=>{var r;(r=e.current)==null||r.call(e)},10)},l=w("light",{getInitialValueInEffect:!1}),a=n.colorScheme==="auto"?l:n.colorScheme,d=c.useCallback(()=>i(a==="light"?"dark":"light"),[i,a]);return c.useEffect(()=>()=>{var r;(r=e.current)==null||r.call(e),window.clearTimeout(o.current)},[]),{colorScheme:n.colorScheme,setColorScheme:i,clearColorScheme:s,toggleColorScheme:d}}export{g as a,w as u};
